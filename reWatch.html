<!DOCTYPE html>
<html lang="en">
<head>
	<title>Whatcha Watchin'?</title>
	<meta charset="utf-8">

	<meta name="viewport" content="width=device-width, initial-scale=1">
  	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="home.css" media="screen">
	<link rel="stylesheet" href="watch.css" media="screen">
<!-- 	<link rel="stylesheet" href="watched.css" media="screen">
	<link rel="stylesheet" href="rewatch.css" media="screen">
	<link rel="stylesheet" href="neverAgain.css" media="screen"> -->
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  	

<script> 

// listen for the document ready event
		$(document).ready(function(){
			
			$('#addMovie-form').on('submit', function(e) {
                // prevents the submit button from refreshing the page
                e.preventDefault();
                // find a movie based on the input text
                var movie = findMovieByTitle($('input').val());
                console.log("movie");
                //console.log(movie);
                // create a new <li> element with the input value and add it to the list
                $('<li>' + movie.title + '</li>')
                    .addClass('addMovie')
                    .appendTo('#movie');
                // call our custom function with the newest list event to make sure it has a click event
                addListEvents($('li:last'));
                // reset the input text
                $('input:text').val('');
            });

            console.log("done");




			// pass in an object that setup the ajax call and handle the success/error responses
			function getMovie(movie){

				$.ajax({
				    url: "http://www.omdbapi.com/?y=&plot=short&r=json&t=" + movie,
				    type: "GET",
				    crossDomain: true,    // used to prevent cross domain issues
				    dataType: 'jsonp',    // used to prevent cross domain issues
				    success: function(response) {     
				        // The request succeeded
				        console.log("data");
				        $("#movie").html("<p>"+response.Title+"</p><p>"+response.Year+"</p><p>"+response.Rated+"</p><p>"+response.Runtime+"</p><p>"+response.Genre+"</p><p>"+response.Country+"</p><p>"+response.Director+"</p><p>"+response.Actors+"</p><p>"+response.Plot+"</p>");
				        parseOMDBData(response);*/
				    },
				    error: function(xhr, status) {
				    	// The request failed
				    	console.log("fail");
				        console.log(status);
				    }
				});
			}


			console.log("end");

			function parseOMDBData(json){
				// iterate over each object and create a list of every photo and user
		        $.each(json.data, function(key,val){
		        	console.log(val);
		        	//var Poster = ;
		        	//var Title  = ;
		        	//var Director = ;
		        	//$('<img/>').attr('src',photo).on('load', function(){
		        		// update the photo
		        //		$('#'+val.id).html(this);
		        //	});
				
		        	//$('<li><img src="'+photo+'"/><img src="'+user+'"/>'+username+'</li>').appendTo('#cats');
		        });
			}







		 	$('li').each(function() {
                $(this).addClass('addMovie');
                addListEvents($(this));
            });


            function addListEvents($li) {
                // add a click event for each <li> element
                $li.click(function() {
                    // remove the todo class and add done
                    if ($(this).hasClass('addMovie')) {
                        $(this).removeClass('addMovie');
                        $(this).addClass('removeMovie');
                    }

                    else {
                        $(this).removeClass('removeMovie').addClass('addMovie');
                    }
                });
            }




            
        });



  
   
    </script>


  	
</head>


<body>

	<div id= "container">
		<div id= "bgd">
			<a class="logo" href="home.html">
				<img class="logo" src="images/movieSiteName.png" position: "center"/></a>
			
		</div>
		<nav class="navbar navbar-default">
			<div class="container-fluid">


				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#movieNavbar">
						<span class="icon-bar red"></span>
						<span class="icon-bar black"></span>
						<span class="icon-bar red"></span>
					</button>

				</div>


				<div class="collapse navbar-collapse" id="Navbar">
					<ul class="nav navbar-nav ullist">
						<li><a href="home.html">Home</a></li>
						<li><a href="watch.html">Watch</a></li>
						<li><a href="watched.html">Watched</a></li>
						<li><a href="rewatch.html">ReWatch</a></li>
						<li><a href="neverAgain.html">Never Again</a></li>
					</ul>
				</div>


			</div>
		</nav>
	</div>








	<!--filter button-->
	<!-- <div id="filter-btn-container" class="filter">
                <a id="filter-btn" href="#/filter" data-track="style click filter-btn" class="" style="opacity: 1;">
                    <span>Filter</span>
                    
                </a>

    </div> -->

    	<div id="wrapper">
        	<ul id="movie">     
        	</ul>
			<form id="addMovie-form">
        		<input type="text" id="title"/>
        		<input type="submit" id="add" value="+"/>
        	</form>

        	
    	</div>




<!--
    	<div>
			<label class="control-label" for="t">Title:</label>
			<input type="text" id="t" name="t" class="input-small">
			&nbsp;&nbsp;
			<label class="control-label" for="y">Year:</label>
			<input type="text" id="y" name="y" class="input-small" style="width: 100px;">
			&nbsp;&nbsp;
			<label class="control-label">Plot:</label>
			<select name="plot" style="width: 100px;">
			    <option value="short" selected="">Short</option>
			    <option value="full">Full</option>
			</select>
			&nbsp;&nbsp;
			<label class="control-label">Response:</label>
			<select name="r" style="width: 100px;">
			    <option value="json">JSON</option>
			    <option value="xml">XML</option>
			</select>
			&nbsp;&nbsp;
			<button id="search-by-title-button" type="button" class="btn-sm btn-primary">Search</button>
			<button id="search-by-title-reset" type="reset" class="btn-sm">Reset</button>
		</div>
	-->

	</div>
	

	

</body>

</html>